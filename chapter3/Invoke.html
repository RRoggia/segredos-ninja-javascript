<!DOCTYPE html>
<html>
<head>
	<title>Invoke</title>
	<script src="../testSuite.js"></script>
	<script>

		window.onload = function() {
			assert(true, "Functions and methods");

			function creep(){ return this; }

			assert(creep() === window, "Creeping in the window");

			var sneak = creep;

			assert(sneak() === window, "Sneaking in the window");

			var ninja1 = {
				skulk: creep
			};

			assert(ninja1.skulk() === ninja1, "The 1st ninja is skulking");

			var ninja2 = {
				skulk: creep
			}

			assert(ninja2.skulk() === ninja2, "The 2nd ninja is skulking");

			assert(true, "Constructor");

			function Ninja(){
				this.skulk = function(){
					return this;
				}
			}

			var ninja3 = new Ninja();
			var ninja4 = new Ninja();

			assert(ninja3.skulk() === ninja3, "The 3rd ninja is skulking");
			assert(ninja4.skulk() === ninja4, "The 4th ninja is skulking");

			assert(true, "Call and Aplly");

			function juggle(){
				var result = 0;
				for (var i = 0; i < arguments.length; i++) {
					result += arguments[i];
				}
				this.result = result;
			}

			var ninja5 = {};
			var ninja6 = {};

			juggle.apply(ninja5, [1, 2, 3, 4]);
			juggle.call(ninja6, 5, 6, 7, 8);

			assert(ninja5.result === 10, "juggled via apply");
			assert(ninja6.result === 26, "juggled via call");

		};

	</script>
	<style>
		#results li.pass {color: green;}
		#results li.fail {color: red;}
	</style>
</head>
<body>
	<ul id="results"></ul>
</body>
</html>